(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{209:function(t,n,e){(t.exports=e(136)(!1)).push([t.i,".show[data-v-7205c265]{position:fixed;bottom:50vh;left:20px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:-27%}.show[data-v-7205c265],div[data-v-7205c265]{display:-webkit-box;display:-ms-flexbox;display:flex}div[data-v-7205c265]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}div .background[data-v-7205c265],div .container[data-v-7205c265]{-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-box-flex:0;-ms-flex:0 0 600px;flex:0 0 600px;background-color:#bbada0;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:10px;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-radius:10px;width:600px;position:absolute;z-index:-1}div .background>span[data-v-7205c265],div .container>span[data-v-7205c265]{background-color:#eee4da59;margin:10px;width:130px;height:130px;border-radius:10px}div .container[data-v-7205c265]{z-index:0;position:relative}div .container .list[data-v-7205c265]{position:absolute;font-size:55px;font-weight:700;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;border-radius:10px;-webkit-transition:.1s ease-in-out;transition:.1s ease-in-out}div .container .list .inner[data-v-7205c265]{width:100%;height:100%;color:#fff;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-animation-fill-mode:backwards;animation-fill-mode:backwards;-webkit-animation:appear-data-v-7205c265 .2s ease-in-out;animation:appear-data-v-7205c265 .2s ease-in-out}@-webkit-keyframes appear-data-v-7205c265{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}80%{opacity:0;-webkit-transform:scale(.8);transform:scale(.8)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes appear-data-v-7205c265{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}80%{opacity:0;-webkit-transform:scale(.8);transform:scale(.8)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}",""])},210:function(t,n,e){var i=e(209);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(85).default)("16f370e4",i,!0,{})},219:function(t,n,e){"use strict";e.r(n);var i=e(63),r=e.n(i),a=e(120),s=e.n(a),o=e(61),c=e.n(o);window.by=function(t){return function(n,e){return n[t]<e[t]?-1:1}};var l={data:function(){return{rocks:[null,null,null,null,{x:3,y:1,num:2,id:10,color:"#eee4da"},{x:3,y:2,num:2,id:1,color:"#eee4da"},{x:3,y:3,num:4,id:3,color:"#ede0c8"},{x:2,y:1,num:2,id:8,color:"#eee4da"},{x:1,y:1,num:2,id:6,color:"#eee4da"},{x:0,y:1,num:2,id:11,color:"#eee4da"},{x:0,y:3,num:4,id:9,color:"#ede0c8"}],color:{2:"#eee4da",4:"#ede0c8",8:"#f2b179",16:"#f59563",32:"#f67c5f",64:"#f65e3b",128:"#edcf72",256:"#edcc61",512:"#0444BF",1024:"#A79674",2048:"#282726"}}},mounted:function(){var t=this;window.app=this,document.addEventListener("keydown",function(n){"ArrowRight"===n.key?t.turn("right"):"ArrowLeft"===n.key?t.turn("left"):"ArrowDown"===n.key?t.turn("down"):"ArrowUp"===n.key&&t.turn("up")})},methods:{random24:function(){return 2*~~(2*Math.random())+2},random0123:function(){return~~(4*Math.random())},num:function(){var t=this.random24(),n={x:this.random0123(),y:this.random0123(),num:t,id:this.rocks.length+1,color:this.color[t]};if(!this.isExist({x:n.x,y:n.y}))return n},isFull:function(){return this.rocks.filter(function(t){return t}).length>15},add:function(t){if(this.isFull())return console.log("满了不能再加了，但是游戏还没结束啊"),!1;var n=this.num();n?this.rocks.push(n):this.add()},getNull:function(){return this.rocks.indexOf(null)},isExist:function(t){var n=t.x,e=t.y;return this.rocks.filter(function(t){return t}).find(function(t){return t.x===n&&t.y===e})},getIndex:function(t){return this.rocks.findIndex(function(n){return n&&n.id===t})},handleDirect:function(t){return"right"===t?{handleArr:function(t){return t.filter(function(t){return t&&3!==t.x}).sort(by("x")).reverse()},handleCondition:function(t){return t.x<3},next:function(t){return{x:t.x+1,y:t.y}},handleMove:function(t){t.x++}}:"left"===t?{handleArr:function(t){return t.filter(function(t){return t&&0!==t.x}).sort(by("x"))},handleCondition:function(t){return t.x>0},next:function(t){return{x:t.x-1,y:t.y}},handleMove:function(t){t.x--}}:"up"===t?{handleArr:function(t){return t.filter(function(t){return t&&0!==t.y}).sort(by("y"))},handleCondition:function(t){return t.y>0},next:function(t){return{x:t.x,y:t.y-1}},handleMove:function(t){t.y--}}:"down"===t?{handleArr:function(t){return t.filter(function(t){return t&&3!==t.y}).sort(by("y")).reverse()},handleCondition:function(t){return t.y<3},next:function(t){return{x:t.x,y:t.y+1}},handleMove:function(t){t.y++}}:void 0},turn:function(t){var n,e=this;c.a.all(this.handleDirect(t).handleArr(this.rocks).map((n=s()(r.a.mark(function n(i){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.isExist(e.handleDirect(t).next(i)),n.abrupt("return",e.calcAxis({e:i,direct:t}));case 2:case"end":return n.stop()}},n,e)})),function(t){return n.apply(this,arguments)}))).then(function(t){t.indexOf(!0)>-1?(e.add(),e.add()):console.log("没有移动，不用添加")})},calcAxis:function(t){var n,e=this,i=t.e,a=t.direct;return new c.a((n=s()(r.a.mark(function t(n,s){var o;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(o=e.isExist(e.handleDirect(a).next(i)))&&o.num!==i.num?n(!1):o&&o.num===i.num?(e.handleDirect(a).handleMove(i),i.num*=2,i.color=e.color[i.num],document.querySelector("#r"+i.id).animate([{transform:"scale(1)"},{transform:"scale(1)"},{transform:"scale(1)"},{transform:"scale(1)"},{transform:"scale(0.95)"},{transform:"scale(1.1)"},{transform:"scale(1.03)"},{transform:"scale(1)"}],{duration:200}),e.rocks.splice(e.getIndex(o.id),1,null),n(!0)):void 0===o&&(e.handleDirect(a).handleCondition(i)&&(e.handleDirect(a).handleMove(i),e.calcAxis({e:i,direct:a})),n(!0));case 2:case"end":return t.stop()}},t,e)})),function(t,e){return n.apply(this,arguments)}))}}},d=e(18);var u=function(t){e(210)},f=Object(d.a)(l,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._m(0),t._v(" "),e("div",{staticClass:"container"},t._l(t.rocks,function(n,i){return e("span",{key:i,staticClass:"list",style:"\n        transform: translate("+150*(n?n.x:0)+"px, "+150*(n?n.y:0)+"px);\n        display: "+(n?"":"none")+"\n      ",attrs:{"data-item":JSON.stringify(n)}},[e("span",{staticClass:"inner",style:"backgroundColor: "+(n?n.color:""),attrs:{id:"r"+(n&&n.id)}},[t._v("\n        "+t._s(n?n.num:"")+"\n      ")])])})),t._v(" "),e("div",{staticClass:"show"},t._l(t.rocks,function(n,i){return e("p",{key:i},[t._v("\n      "+t._s(JSON.stringify(n))+"\n    ")])}))])},[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"background"},[e("span",{staticClass:"list-0-0"}),t._v(" "),e("span",{staticClass:"list-0-1"}),t._v(" "),e("span",{staticClass:"list-0-2"}),t._v(" "),e("span",{staticClass:"list-0-3"}),t._v(" "),e("span",{staticClass:"list-1-0"}),t._v(" "),e("span",{staticClass:"list-1-1"}),t._v(" "),e("span",{staticClass:"list-1-2"}),t._v(" "),e("span",{staticClass:"list-1-3"}),t._v(" "),e("span",{staticClass:"list-2-0"}),t._v(" "),e("span",{staticClass:"list-2-1"}),t._v(" "),e("span",{staticClass:"list-2-2"}),t._v(" "),e("span",{staticClass:"list-2-3"}),t._v(" "),e("span",{staticClass:"list-3-0"}),t._v(" "),e("span",{staticClass:"list-3-1"}),t._v(" "),e("span",{staticClass:"list-3-2"}),t._v(" "),e("span",{staticClass:"list-3-3"})])}],!1,u,"data-v-7205c265",null);n.default=f.exports}}]);